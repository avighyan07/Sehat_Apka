{% extends "base.html" %}
{% block title %}Find Doctor{% endblock %}

{% block content %}
<div class="text-center mt-5">
  <h1 style="color: #3498db;">Find Nearby Specialist</h1>
  <label for="disease" class="mt-3" style="font-size: 1.1rem;">Select Disease:</label>
  <div class="mt-2">
    <select id="disease" class="form-control w-50 mx-auto">
      <option value="Cardiologist">Heart Disease</option>
      <option value="Pulmonologist">Pneumonia</option>
      <option value="Nephrologist">Kidney Disease</option>
      <option value="Endocrinologist">Diabetes</option>
      <option value="Oncologist">Breast Cancer</option>
    </select>
  </div>
  <button class="btn btn-success mt-3 px-4" onclick="findDoctors()">Find Doctors Near Me</button>
</div>

<script>
  function findDoctors() {
    const specialist = document.getElementById("disease").value;

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition((position) => {
        const lat = position.coords.latitude;
        const lng = position.coords.longitude;

        const mapsUrl = `https://www.google.com/maps/search/${specialist}/@${lat},${lng},15z`;
        window.open(mapsUrl, "_blank");
      }, () => {
        alert("Unable to retrieve your location.");
      });
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }
</script>
{% endblock %}
