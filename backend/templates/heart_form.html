{% extends 'base.html' %}

{% block title %}Heart Disease Prediction{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center mb-4">Heart Disease Prediction</h1>

    {% if prediction %}
    <div class="alert text-center mt-4 prediction" style="font-size: 1.2rem; {% if '⚠️' in prediction %} color: red; {% else %} color: green; {% endif %}">
        <strong>The model predicts:</strong><br>{{ prediction }}
    </div>
    {% endif %}

    <form action="/heart" method="POST">
        {% for field, label, placeholder, min, max, step in [
            ('age', 'Age', '20-100', 20, 100, None),
            ('sex', 'Sex (0 = female, 1 = male)', '0-1', 0, 1, None),
            ('cp', 'Chest Pain Type', '0-3', 0, 3, None),
            ('trestbps', 'Resting Blood Pressure', '80-200', 80, 200, None),
            ('chol', 'Cholesterol', '100-600', 100, 600, None),
            ('fbs', 'Fasting Blood Sugar > 120 mg/dL (1 = yes, 0 = no)', '0-1', 0, 1, None),
            ('restecg', 'Resting ECG Results', '0-2', 0, 2, None),
            ('thalach', 'Max Heart Rate', '70-210', 70, 210, None),
            ('exang', 'Exercise Induced Angina (1 = yes, 0 = no)', '0-1', 0, 1, None),
            ('oldpeak', 'ST Depression (Oldpeak)', '0-6.2', 0, 6.2, 0.1),
            ('slope', 'Slope of ST Segment', '0-2', 0, 2, None),
            ('ca', 'Major Vessels Colored by Fluoroscopy', '0-4', 0, 4, None),
            ('thal', 'Thalassemia (0 = normal, 1 = fixed, 2 = reversible)', '0-2', 0, 2, None),
        ] %}
        <div class="form-group">
            <label for="{{ field }}">{{ label }}</label>
            <input type="number" name="{{ field }}" id="{{ field }}" class="form-control" required placeholder="{{ placeholder }}"
                min="{{ min }}" max="{{ max }}"
                {% if step %} step="{{ step }}"{% endif %}>
        </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary mt-3">Predict</button>
    </form>
</div>
{% endblock %}
